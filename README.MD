# ğŸš€ AWS ECS CI/CD Pipeline â€” Exercise Hello

This project demonstrates a **complete AWS DevOps pipeline** built with **Terraform**, **CodePipeline**, **CodeBuild**, **ECR**, and **ECS**, deploying a Dockerized web app to AWS automatically on every push to GitHub.

---

## ğŸ§± Architecture Overview

**Main AWS Components:**
- **VPC** with public & private subnets  
- **ECR** â€“ stores container images  
- **ECS Fargate Cluster** â€“ runs the app containers  
- **ALB (Application Load Balancer)** â€“ routes traffic to ECS services  
- **CodeBuild** â€“ builds Docker images & pushes to ECR  
- **CodePipeline** â€“ automates CI/CD from GitHub to ECS  

The entire infrastructure is defined in **Terraform**, ensuring full reproducibility and easy cleanup.

---

## âš™ï¸ How the Pipeline Works

1. **Push to GitHub** â†’ triggers CodePipeline.  
2. **CodeBuild** runs using `buildspec.yml`:  
   - Logs in to ECR  
   - Builds Docker image from `/app/Dockerfile`  
   - Tags the image dynamically with commit hash or timestamp  
   - Pushes the image to ECR  
   - Generates `imagedefinitions.json` for ECS deploy  
3. **ECS Service** automatically updates to the new image.  
4. The app becomes available via the **ALB DNS** output from Terraform.


---

## ğŸ§© Main Terraform Files

| File | Purpose |
|------|----------|
| `main.tf` | Providers, backend, base setup |
| `ecs.tf` | ECS cluster, service, and task definition |
| `pipeline.tf` | CI/CD pipeline (CodePipeline + CodeBuild) |
| `variables.tf` | Configurable parameters (region, repo, etc.) |
| `outputs.tf` | Outputs like ALB DNS and ECR URL |
| `buildspec.yml` | Build instructions for CodeBuild |
| `app/Dockerfile` | Docker image definition for the sample app |

---

## ğŸ§  Key Learnings

- âœ… How to automate infrastructure and CI/CD using Terraform  
- âœ… Build and deploy Docker images to AWS ECS  
- âœ… Integrate GitHub â†’ CodePipeline â†’ CodeBuild â†’ ECR â†’ ECS  
- âœ… Troubleshoot buildspec and dynamic tagging issues  
- âœ… Apply and destroy resources safely using Terraform  

---

## ğŸ’» Commands Used

```bash
# Initialize and apply Terraform
terraform init
terraform apply -auto-approve

# Destroy all AWS resources
terraform destroy -auto-approve
